# ===========================================
# Extremism Monitor Bot - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# -----------------
# Application
# -----------------
APP_NAME=Extremism Monitor Bot
ENVIRONMENT=development
DEBUG=true

# -----------------
# Discord Bot
# -----------------
# Get from: https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_CLIENT_SECRET=your_discord_client_secret_here

# -----------------
# Anthropic Claude AI
# -----------------
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
CLAUDE_MODEL=claude-3-sonnet-20240229
CLAUDE_MAX_TOKENS=4096

# -----------------
# Database
# -----------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=extremism_monitor
DATABASE_USER=extremism_user
DATABASE_PASSWORD=change_this_password
DATABASE_URL=postgresql+asyncpg://${DATABASE_USER}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# -----------------
# Redis
# -----------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# -----------------
# Backend API
# -----------------
API_HOST=0.0.0.0
API_PORT=8000
API_BASE_URL=http://localhost:8000
API_PREFIX=/api/v1
API_KEY=generate_a_random_api_key_here

# -----------------
# Authentication & Security
# -----------------
# Generate with: openssl rand -hex 32
SECRET_KEY=change_this_to_a_random_secret_key_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------
# CORS
# -----------------
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true

# -----------------
# Risk Assessment Thresholds
# -----------------
RISK_LOW_THRESHOLD=30
RISK_MEDIUM_THRESHOLD=60
RISK_HIGH_THRESHOLD=85
RISK_CRITICAL_THRESHOLD=95

# -----------------
# Bot Features
# -----------------
ENABLE_RISK_MONITORING=true
ENABLE_ENGAGEMENT_TRACKING=true
ENABLE_AUTO_ALERTS=true
ENABLE_ML_PREDICTIONS=true
ENABLE_DAILY_UPDATES=true

# -----------------
# Performance Settings
# -----------------
MESSAGE_BATCH_SIZE=100
ANALYSIS_DELAY_SECONDS=2
MAX_CONCURRENT_ANALYSES=5
MESSAGE_CACHE_SIZE=1000
MESSAGE_CACHE_TTL_SECONDS=3600

# -----------------
# ML Models
# -----------------
ML_MODEL_PATH=./models
EMBEDDING_MODEL=all-MiniLM-L6-v2
VECTOR_DB_PATH=./data/vectordb
ML_TRAINING_ENABLED=true
ML_RETRAIN_INTERVAL_DAYS=7

# -----------------
# Celery (Background Tasks)
# -----------------
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC

# -----------------
# Daily Risk Update Settings
# -----------------
RISK_UPDATE_SCHEDULE=0 0 * * *  # Daily at midnight (cron format)
RISK_UPDATE_ENABLED=true
RISK_SOURCES_CONFIG_PATH=./config/risk_sources.json

# -----------------
# Logging
# -----------------
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_FORMAT=json
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# -----------------
# Monitoring
# -----------------
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=9090
SENTRY_DSN=  # Optional: Add your Sentry DSN for error tracking
SENTRY_ENVIRONMENT=development

# -----------------
# Rate Limiting
# -----------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# -----------------
# Data Retention
# -----------------
MESSAGE_RETENTION_DAYS=90
RISK_ASSESSMENT_RETENTION_DAYS=365
METRICS_RETENTION_DAYS=730
ENABLE_AUTO_CLEANUP=true

# -----------------
# Admin Panel
# -----------------
ADMIN_PANEL_URL=http://localhost:3000
ADMIN_SESSION_TIMEOUT_MINUTES=60
REQUIRE_EMAIL_VERIFICATION=false

# -----------------
# Email (Optional - for notifications)
# -----------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@extremismmonitor.com
ENABLE_EMAIL_ALERTS=false

# -----------------
# Cloud Storage (Optional - for backups)
# -----------------
ENABLE_CLOUD_BACKUP=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=extremism-monitor-backups

# -----------------
# Feature Flags
# -----------------
FEATURE_CHURN_PREDICTION=true
FEATURE_SENTIMENT_ANALYSIS=true
FEATURE_NETWORK_ANALYSIS=true
FEATURE_AUTOMATED_REPORTS=true
FEATURE_WEBHOOK_INTEGRATIONS=false

# -----------------
# Development Only
# -----------------
DEV_MOCK_DISCORD=false
DEV_MOCK_CLAUDE_API=false
DEV_SEED_DATABASE=false
DEV_ENABLE_DEBUG_TOOLBAR=true
